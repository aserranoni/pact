{"module":{"hash":"u4quVQYDB2OLgeJmWwM7RWIDkRlW9OsQ0q72nUICq5E","blessed":[],"interfaces":[],"imports":[],"name":{"namespace":null,"name":"auto-caps-mod"},"code":"(module auto-caps-mod GOV\n  (defcap GOV () true)\n  (defcap CAP_A:bool (name:string)\n    @managed\n    true)\n  (defcap CAP_B:bool (name:string times:integer)\n    @managed times capBMgr\n    true)\n  (defun capBMgr:integer (mgd:integer rqd:integer)\n    (enforce (> mgd 0) \"all done\")\n    (- mgd 1))\n  (defun doA (name)\n    (with-capability (CAP_A name) true))\n  (defun doB (name times)\n    (with-capability (CAP_B name times) true)))\n","meta":{"model":[],"docs":null},"governance":{"capability":{"defType":"Defcap","defMeta":null,"funType":{"args":[],"return":{"tag":"TypeVar","name":"a","constraint":[]}},"defName":"GOV","defBody":{"scope":{"list":[{"i":{"d":[4,"golden/golden.autocap.repl",2,17,44,17],"c":"true"},"lit":true}],"type":"*","i":{"d":[23,"golden/golden.autocap.repl",2,2,29,2],"c":"(defcap GOV () true)\n  "}}},"module":{"namespace":null,"name":"auto-caps-mod"},"meta":{"model":[],"docs":null},"info":{"d":[23,"golden/golden.autocap.repl",2,2,29,2],"c":"(defcap GOV () true)\n  "}}}},"refMap":{"CAP_A":{"ref":{"defType":"Defcap","defMeta":{"managerAuto":true},"funType":{"args":[{"name":"name","type":"string","info":{"d":[4,"golden/golden.autocap.repl",3,22,72,22],"c":"name"}}],"return":"bool"},"defName":"CAP_A","defBody":{"scope":{"list":[{"i":{"d":[4,"golden/golden.autocap.repl",5,4,102,4],"c":"true"},"lit":true}],"type":"*","i":{"d":[58,"golden/golden.autocap.repl",3,2,52,2],"c":"(defcap CAP_A:bool (name:string)\n    @managed\n    true)\n  "}}},"module":{"namespace":null,"name":"auto-caps-mod"},"meta":{"model":[],"docs":null},"info":{"d":[58,"golden/golden.autocap.repl",3,2,52,2],"c":"(defcap CAP_A:bool (name:string)\n    @managed\n    true)\n  "}}},"doB":{"ref":{"defType":"Defun","defMeta":null,"funType":{"args":[{"name":"name","type":{"tag":"TypeVar","name":"e","constraint":[]},"info":{"d":[5,"golden/golden.autocap.repl",14,14,370,14],"c":"name "}},{"name":"times","type":{"tag":"TypeVar","name":"f","constraint":[]},"info":{"d":[5,"golden/golden.autocap.repl",14,19,375,19],"c":"times"}}],"return":{"tag":"TypeVar","name":"d","constraint":[]}},"defName":"doB","defBody":{"scope":{"list":[{"args":[{"args":[{"var":{"b":0},"i":{"d":[5,"golden/golden.autocap.repl",15,28,410,28],"c":"name "}},{"var":{"b":1},"i":{"d":[5,"golden/golden.autocap.repl",15,33,415,33],"c":"times"}}],"fun":{"var":{"f":{"var":{"ref":{"defType":"Defcap","defMeta":{"managedParam":"times","managerFun":{"var":{"ref":{"defType":"Defun","defMeta":null,"funType":{"args":[{"name":"mgd","type":"integer","info":{"d":[3,"golden/golden.autocap.repl",9,26,220,26],"c":"mgd"}},{"name":"rqd","type":"integer","info":{"d":[3,"golden/golden.autocap.repl",9,38,232,38],"c":"rqd"}}],"return":"integer"},"defName":"capBMgr","defBody":{"scope":{"list":[{"args":[{"args":[{"var":{"b":0},"i":{"d":[4,"golden/golden.autocap.repl",10,16,261,16],"c":"mgd "}},{"i":{"d":[1,"golden/golden.autocap.repl",10,20,265,20],"c":"0"},"lit":{"int":0}}],"fun":{"var":{"f":{"var":{"direct":{"pdnat":">"}},"i":null}},"i":{"d":[2,"golden/golden.autocap.repl",10,14,259,14],"c":"> "}},"info":{"d":[10,"golden/golden.autocap.repl",10,13,258,13],"c":"(> mgd 0) "}},{"i":{"d":[10,"golden/golden.autocap.repl",10,23,268,23],"c":"\"all done\""},"lit":"all done"}],"fun":{"var":{"f":{"var":{"direct":{"pdnat":"enforce"}},"i":null}},"i":{"d":[8,"golden/golden.autocap.repl",10,5,250,5],"c":"enforce "}},"info":{"d":[35,"golden/golden.autocap.repl",10,4,249,4],"c":"(enforce (> mgd 0) \"all done\")\n    "}},{"args":[{"var":{"b":0},"i":{"d":[4,"golden/golden.autocap.repl",11,7,287,7],"c":"mgd "}},{"i":{"d":[1,"golden/golden.autocap.repl",11,11,291,11],"c":"1"},"lit":{"int":1}}],"fun":{"var":{"f":{"var":{"direct":{"pdnat":"-"}},"i":null}},"i":{"d":[2,"golden/golden.autocap.repl",11,5,285,5],"c":"- "}},"info":{"d":[9,"golden/golden.autocap.repl",11,4,284,4],"c":"(- mgd 1)"}}],"type":"*","i":{"d":[101,"golden/golden.autocap.repl",9,2,196,2],"c":"(defun capBMgr:integer (mgd:integer rqd:integer)\n    (enforce (> mgd 0) \"all done\")\n    (- mgd 1))\n  "}}},"module":{"namespace":null,"name":"auto-caps-mod"},"meta":{"model":[],"docs":null},"info":{"d":[101,"golden/golden.autocap.repl",9,2,196,2],"c":"(defun capBMgr:integer (mgd:integer rqd:integer)\n    (enforce (> mgd 0) \"all done\")\n    (- mgd 1))\n  "}}},"i":{"d":[12,"golden/golden.autocap.repl",7,19,176,19],"c":"capBMgr\n    "}}},"funType":{"args":[{"name":"name","type":"string","info":{"d":[4,"golden/golden.autocap.repl",6,22,130,22],"c":"name"}},{"name":"times","type":"integer","info":{"d":[5,"golden/golden.autocap.repl",6,34,142,34],"c":"times"}}],"return":"bool"},"defName":"CAP_B","defBody":{"scope":{"list":[{"i":{"d":[4,"golden/golden.autocap.repl",8,4,188,4],"c":"true"},"lit":true}],"type":"*","i":{"d":[86,"golden/golden.autocap.repl",6,2,110,2],"c":"(defcap CAP_B:bool (name:string times:integer)\n    @managed times capBMgr\n    true)\n  "}}},"module":{"namespace":null,"name":"auto-caps-mod"},"meta":{"model":[],"docs":null},"info":{"d":[86,"golden/golden.autocap.repl",6,2,110,2],"c":"(defcap CAP_B:bool (name:string times:integer)\n    @managed times capBMgr\n    true)\n  "}}},"i":null}},"i":{"d":[6,"golden/golden.autocap.repl",15,22,404,22],"c":"CAP_B "}},"info":{"d":[19,"golden/golden.autocap.repl",15,21,403,21],"c":"(CAP_B name times) "}},{"list":[{"i":{"d":[4,"golden/golden.autocap.repl",15,40,422,40],"c":"true"},"lit":true}],"type":"*","i":{"d":[4,"golden/golden.autocap.repl",15,40,422,40],"c":"true"}}],"fun":{"var":{"f":{"var":{"direct":{"pdnat":"with-capability"}},"i":null}},"i":{"d":[16,"golden/golden.autocap.repl",15,5,387,5],"c":"with-capability "}},"info":{"d":[41,"golden/golden.autocap.repl",15,4,386,4],"c":"(with-capability (CAP_B name times) true)"}}],"type":"*","i":{"d":[70,"golden/golden.autocap.repl",14,2,358,2],"c":"(defun doB (name times)\n    (with-capability (CAP_B name times) true))"}}},"module":{"namespace":null,"name":"auto-caps-mod"},"meta":{"model":[],"docs":null},"info":{"d":[70,"golden/golden.autocap.repl",14,2,358,2],"c":"(defun doB (name times)\n    (with-capability (CAP_B name times) true))"}}},"CAP_B":{"ref":{"defType":"Defcap","defMeta":{"managedParam":"times","managerFun":{"var":{"ref":{"defType":"Defun","defMeta":null,"funType":{"args":[{"name":"mgd","type":"integer","info":{"d":[3,"golden/golden.autocap.repl",9,26,220,26],"c":"mgd"}},{"name":"rqd","type":"integer","info":{"d":[3,"golden/golden.autocap.repl",9,38,232,38],"c":"rqd"}}],"return":"integer"},"defName":"capBMgr","defBody":{"scope":{"list":[{"args":[{"args":[{"var":{"b":0},"i":{"d":[4,"golden/golden.autocap.repl",10,16,261,16],"c":"mgd "}},{"i":{"d":[1,"golden/golden.autocap.repl",10,20,265,20],"c":"0"},"lit":{"int":0}}],"fun":{"var":{"f":{"var":{"direct":{"pdnat":">"}},"i":null}},"i":{"d":[2,"golden/golden.autocap.repl",10,14,259,14],"c":"> "}},"info":{"d":[10,"golden/golden.autocap.repl",10,13,258,13],"c":"(> mgd 0) "}},{"i":{"d":[10,"golden/golden.autocap.repl",10,23,268,23],"c":"\"all done\""},"lit":"all done"}],"fun":{"var":{"f":{"var":{"direct":{"pdnat":"enforce"}},"i":null}},"i":{"d":[8,"golden/golden.autocap.repl",10,5,250,5],"c":"enforce "}},"info":{"d":[35,"golden/golden.autocap.repl",10,4,249,4],"c":"(enforce (> mgd 0) \"all done\")\n    "}},{"args":[{"var":{"b":0},"i":{"d":[4,"golden/golden.autocap.repl",11,7,287,7],"c":"mgd "}},{"i":{"d":[1,"golden/golden.autocap.repl",11,11,291,11],"c":"1"},"lit":{"int":1}}],"fun":{"var":{"f":{"var":{"direct":{"pdnat":"-"}},"i":null}},"i":{"d":[2,"golden/golden.autocap.repl",11,5,285,5],"c":"- "}},"info":{"d":[9,"golden/golden.autocap.repl",11,4,284,4],"c":"(- mgd 1)"}}],"type":"*","i":{"d":[101,"golden/golden.autocap.repl",9,2,196,2],"c":"(defun capBMgr:integer (mgd:integer rqd:integer)\n    (enforce (> mgd 0) \"all done\")\n    (- mgd 1))\n  "}}},"module":{"namespace":null,"name":"auto-caps-mod"},"meta":{"model":[],"docs":null},"info":{"d":[101,"golden/golden.autocap.repl",9,2,196,2],"c":"(defun capBMgr:integer (mgd:integer rqd:integer)\n    (enforce (> mgd 0) \"all done\")\n    (- mgd 1))\n  "}}},"i":{"d":[12,"golden/golden.autocap.repl",7,19,176,19],"c":"capBMgr\n    "}}},"funType":{"args":[{"name":"name","type":"string","info":{"d":[4,"golden/golden.autocap.repl",6,22,130,22],"c":"name"}},{"name":"times","type":"integer","info":{"d":[5,"golden/golden.autocap.repl",6,34,142,34],"c":"times"}}],"return":"bool"},"defName":"CAP_B","defBody":{"scope":{"list":[{"i":{"d":[4,"golden/golden.autocap.repl",8,4,188,4],"c":"true"},"lit":true}],"type":"*","i":{"d":[86,"golden/golden.autocap.repl",6,2,110,2],"c":"(defcap CAP_B:bool (name:string times:integer)\n    @managed times capBMgr\n    true)\n  "}}},"module":{"namespace":null,"name":"auto-caps-mod"},"meta":{"model":[],"docs":null},"info":{"d":[86,"golden/golden.autocap.repl",6,2,110,2],"c":"(defcap CAP_B:bool (name:string times:integer)\n    @managed times capBMgr\n    true)\n  "}}},"doA":{"ref":{"defType":"Defun","defMeta":null,"funType":{"args":[{"name":"name","type":{"tag":"TypeVar","name":"c","constraint":[]},"info":{"d":[4,"golden/golden.autocap.repl",12,14,309,14],"c":"name"}}],"return":{"tag":"TypeVar","name":"b","constraint":[]}},"defName":"doA","defBody":{"scope":{"list":[{"args":[{"args":[{"var":{"b":0},"i":{"d":[4,"golden/golden.autocap.repl",13,28,343,28],"c":"name"}}],"fun":{"var":{"f":{"var":{"ref":{"defType":"Defcap","defMeta":{"managerAuto":true},"funType":{"args":[{"name":"name","type":"string","info":{"d":[4,"golden/golden.autocap.repl",3,22,72,22],"c":"name"}}],"return":"bool"},"defName":"CAP_A","defBody":{"scope":{"list":[{"i":{"d":[4,"golden/golden.autocap.repl",5,4,102,4],"c":"true"},"lit":true}],"type":"*","i":{"d":[58,"golden/golden.autocap.repl",3,2,52,2],"c":"(defcap CAP_A:bool (name:string)\n    @managed\n    true)\n  "}}},"module":{"namespace":null,"name":"auto-caps-mod"},"meta":{"model":[],"docs":null},"info":{"d":[58,"golden/golden.autocap.repl",3,2,52,2],"c":"(defcap CAP_A:bool (name:string)\n    @managed\n    true)\n  "}}},"i":null}},"i":{"d":[6,"golden/golden.autocap.repl",13,22,337,22],"c":"CAP_A "}},"info":{"d":[13,"golden/golden.autocap.repl",13,21,336,21],"c":"(CAP_A name) "}},{"list":[{"i":{"d":[4,"golden/golden.autocap.repl",13,34,349,34],"c":"true"},"lit":true}],"type":"*","i":{"d":[4,"golden/golden.autocap.repl",13,34,349,34],"c":"true"}}],"fun":{"var":{"f":{"var":{"direct":{"pdnat":"with-capability"}},"i":null}},"i":{"d":[16,"golden/golden.autocap.repl",13,5,320,5],"c":"with-capability "}},"info":{"d":[35,"golden/golden.autocap.repl",13,4,319,4],"c":"(with-capability (CAP_A name) true)"}}],"type":"*","i":{"d":[61,"golden/golden.autocap.repl",12,2,297,2],"c":"(defun doA (name)\n    (with-capability (CAP_A name) true))\n  "}}},"module":{"namespace":null,"name":"auto-caps-mod"},"meta":{"model":[],"docs":null},"info":{"d":[61,"golden/golden.autocap.repl",12,2,297,2],"c":"(defun doA (name)\n    (with-capability (CAP_A name) true))\n  "}}},"capBMgr":{"ref":{"defType":"Defun","defMeta":null,"funType":{"args":[{"name":"mgd","type":"integer","info":{"d":[3,"golden/golden.autocap.repl",9,26,220,26],"c":"mgd"}},{"name":"rqd","type":"integer","info":{"d":[3,"golden/golden.autocap.repl",9,38,232,38],"c":"rqd"}}],"return":"integer"},"defName":"capBMgr","defBody":{"scope":{"list":[{"args":[{"args":[{"var":{"b":0},"i":{"d":[4,"golden/golden.autocap.repl",10,16,261,16],"c":"mgd "}},{"i":{"d":[1,"golden/golden.autocap.repl",10,20,265,20],"c":"0"},"lit":{"int":0}}],"fun":{"var":{"f":{"var":{"direct":{"pdnat":">"}},"i":null}},"i":{"d":[2,"golden/golden.autocap.repl",10,14,259,14],"c":"> "}},"info":{"d":[10,"golden/golden.autocap.repl",10,13,258,13],"c":"(> mgd 0) "}},{"i":{"d":[10,"golden/golden.autocap.repl",10,23,268,23],"c":"\"all done\""},"lit":"all done"}],"fun":{"var":{"f":{"var":{"direct":{"pdnat":"enforce"}},"i":null}},"i":{"d":[8,"golden/golden.autocap.repl",10,5,250,5],"c":"enforce "}},"info":{"d":[35,"golden/golden.autocap.repl",10,4,249,4],"c":"(enforce (> mgd 0) \"all done\")\n    "}},{"args":[{"var":{"b":0},"i":{"d":[4,"golden/golden.autocap.repl",11,7,287,7],"c":"mgd "}},{"i":{"d":[1,"golden/golden.autocap.repl",11,11,291,11],"c":"1"},"lit":{"int":1}}],"fun":{"var":{"f":{"var":{"direct":{"pdnat":"-"}},"i":null}},"i":{"d":[2,"golden/golden.autocap.repl",11,5,285,5],"c":"- "}},"info":{"d":[9,"golden/golden.autocap.repl",11,4,284,4],"c":"(- mgd 1)"}}],"type":"*","i":{"d":[101,"golden/golden.autocap.repl",9,2,196,2],"c":"(defun capBMgr:integer (mgd:integer rqd:integer)\n    (enforce (> mgd 0) \"all done\")\n    (- mgd 1))\n  "}}},"module":{"namespace":null,"name":"auto-caps-mod"},"meta":{"model":[],"docs":null},"info":{"d":[101,"golden/golden.autocap.repl",9,2,196,2],"c":"(defun capBMgr:integer (mgd:integer rqd:integer)\n    (enforce (> mgd 0) \"all done\")\n    (- mgd 1))\n  "}}},"GOV":{"ref":{"defType":"Defcap","defMeta":null,"funType":{"args":[],"return":{"tag":"TypeVar","name":"a","constraint":[]}},"defName":"GOV","defBody":{"scope":{"list":[{"i":{"d":[4,"golden/golden.autocap.repl",2,17,44,17],"c":"true"},"lit":true}],"type":"*","i":{"d":[23,"golden/golden.autocap.repl",2,2,29,2],"c":"(defcap GOV () true)\n  "}}},"module":{"namespace":null,"name":"auto-caps-mod"},"meta":{"model":[],"docs":null},"info":{"d":[23,"golden/golden.autocap.repl",2,2,29,2],"c":"(defcap GOV () true)\n  "}}}}}